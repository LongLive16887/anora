# Инструкция по установке APK на Android устройство

## Способ 1: Через ADB (USB подключение) - Рекомендуется

### Шаг 1: Подготовка устройства

1. **Включите режим разработчика:**
   - Откройте **Настройки** → **О телефоне** (или **О планшете**)
   - Найдите **Номер сборки** (или **Версия MIUI** для Xiaomi)
   - Нажмите на него **7 раз подряд**
   - Появится сообщение "Вы стали разработчиком!"

2. **Включите отладку по USB:**
   - Вернитесь в **Настройки**
   - Найдите раздел **Для разработчиков** (или **Параметры разработчика**)
   - Включите **Отладка по USB** (USB debugging)

3. **Подключите устройство:**
   - Подключите Android устройство к компьютеру через USB кабель
   - На устройстве появится запрос "Разрешить отладку по USB?"
   - Поставьте галочку "Всегда разрешать с этого компьютера"
   - Нажмите **Разрешить**

### Шаг 2: Установка APK

Запустите скрипт установки:
```bash
./install_apk.sh
```

Или вручную:
```bash
~/Android/Sdk/platform-tools/adb install app/build/outputs/apk/debug/app-debug.apk
```

### Шаг 3: Запуск приложения

1. Найдите приложение **"Object Detection"** на вашем устройстве
2. Запустите его
3. При первом запуске разрешите доступ к камере
4. Наведите камеру на объекты - они будут распознаваться в реальном времени!

---

## Способ 2: Ручная установка (без USB)

### Шаг 1: Разрешите установку из неизвестных источников

1. Откройте **Настройки** → **Безопасность** (или **Безопасность и конфиденциальность**)
2. Включите **Установка из неизвестных источников** (или **Неизвестные источники**)
   - На некоторых устройствах: **Настройки** → **Приложения** → **Специальный доступ** → **Установка неизвестных приложений**

### Шаг 2: Скопируйте APK на устройство

**Вариант A: Через USB (без ADB)**
1. Подключите устройство к компьютеру через USB
2. На устройстве выберите режим **Передача файлов (MTP)**
3. Скопируйте файл `app/build/outputs/apk/debug/app-debug.apk` на устройство
4. Отключите устройство от компьютера

**Вариант B: Через облако/email**
1. Загрузите APK файл в облачное хранилище (Google Drive, Dropbox и т.д.)
2. Или отправьте себе на email
3. Откройте файл на устройстве и скачайте его

**Вариант C: Через Wi-Fi (если устройство в одной сети)**
```bash
# На компьютере запустите простой HTTP сервер
cd app/build/outputs/apk/debug
python3 -m http.server 8000

# На устройстве откройте браузер и перейдите:
# http://IP_ВАШЕГО_КОМПЬЮТЕРА:8000/app-debug.apk
```

### Шаг 3: Установка APK

1. На устройстве откройте **Файловый менеджер**
2. Найдите скопированный файл `app-debug.apk`
3. Нажмите на него
4. Нажмите **Установить**
5. Дождитесь завершения установки
6. Нажмите **Открыть** или найдите приложение в меню

---

## Расположение APK файла

APK файл находится здесь:
```
/home/user01/projects/comp-vision-app/app/build/outputs/apk/debug/app-debug.apk
```

Размер файла: ~48 MB

---

## Устранение проблем

### "Устройство не найдено" при использовании ADB

1. Убедитесь, что USB отладка включена
2. Попробуйте другой USB кабель
3. Попробуйте другой USB порт
4. Перезапустите ADB сервер:
   ```bash
   ~/Android/Sdk/platform-tools/adb kill-server
   ~/Android/Sdk/platform-tools/adb start-server
   ```

### "Приложение не устанавливается"

1. Убедитесь, что включена установка из неизвестных источников
2. Проверьте, достаточно ли места на устройстве
3. Удалите предыдущую версию приложения (если была установлена)
4. Попробуйте установить через ADB с флагом `-r`:
   ```bash
   ~/Android/Sdk/platform-tools/adb install -r app/build/outputs/apk/debug/app-debug.apk
   ```

### "Приложение не запускается" или "Ошибка при запуске"

1. Убедитесь, что устройство поддерживает Android 7.0 (API 24) или выше
2. Проверьте логи:
   ```bash
   ~/Android/Sdk/platform-tools/adb logcat | grep -i "compvision\|error"
   ```

### Для устройств Xiaomi, Huawei, Oppo

На некоторых устройствах китайских производителей нужно дополнительно:
1. Включить **Отладка по USB (безопасность)**
2. Включить **Установка через USB**
3. Разрешить установку в **Защита MIUI** (для Xiaomi)

---

## Проверка установки

После установки проверьте:
```bash
~/Android/Sdk/platform-tools/adb shell pm list packages | grep compvision
```

Должно вывести: `package:com.compvision.app`

---

## Удаление приложения

Если нужно удалить приложение:
```bash
~/Android/Sdk/platform-tools/adb uninstall com.compvision.app
```

Или через настройки устройства: **Настройки** → **Приложения** → **Object Detection** → **Удалить**




